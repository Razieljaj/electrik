<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mission Volt</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" type="image/x-icon" href="../image/favicon.png">
</head>
<body>
    <div class="dialogue">
        <p class="dialogue_text">Pour m’aider calculez la vitesse de <a class="electrique"> l'électricité</a> dans tous les câbles du monde, aidez-vous de la formule dans la <a class="important">boîte</a>. C'est celle qui correspond à l'étape 3 dans la boite. Vous pouvez soulever la languette. <br><br>Voici les données :
            <br><b>1 300 000</b> km de câbles
            <br><b>200 000</b> km/s
            </p>
        <img src="../image/eel/eel.png" class="eel-content" alt="Illustration de l'exercice">
    </div>

    <!-- Zone de réponse utilisateur -->
    <textarea id="userAnswer" placeholder="Entrez votre réponse ici"></textarea>
    <button onclick="checkAnswer()">Vérifier</button>

    <!-- Section de résultat : visible après réponse -->
    <div id="Bravo" class="dialogue" style="display: none; margin-top: 20px;">
        <div id="resultMessage" class="dialogue_text"></div> <!-- Message de résultat -->
        <button id="nextStepButton" style="display: none; margin-top: 10px;" onclick="window.location.href='../etape3/pre-etape3.html'">Aller à l'étape suivante</button>
    </div>

    <script>
        function checkAnswer() {
            // Récupère la réponse utilisateur
            let userAnswer = parseFloat(document.getElementById('userAnswer').value.replace(',', '.'));
            let message = '';
            
            // Récupère les éléments HTML pour afficher le résultat et le bouton suivant
            const resultMessage = document.getElementById('resultMessage');
            const bravoDiv = document.getElementById('Bravo');
            const nextStepButton = document.getElementById('nextStepButton');

            // Affiche la section #Bravo après toute tentative de réponse
            bravoDiv.style.display = "block";

            // Vérifie si l'entrée est un nombre
            if (isNaN(userAnswer)) {
                message = 'Ooooh, c\'est un chiffre qu\'il nous faut !';
            } else if (userAnswer !== 6.5) {
                message = 'Non ce n\'est pas ça, réessaie encore.';
            } else {
                message = 'Argh tous mes plans de conquête du mon… <br>de tran<span class="glitch">s</span>ports <a class="electrique"> électriques </a>sont <a class="enerve">gâchés</a>. Tant <span class="glitch">p</span>is, je verrai ça plus tard,';
                nextStepButton.style.display = "inline-block"; // Affiche le bouton pour passer à l'étape suivante
            }

            // Affiche le message de résultat dans l'élément resultMessage
            resultMessage.innerHTML = message; // Utilisez innerHTML pour permettre le balisage
        }
    </script>
</body>
</html>
