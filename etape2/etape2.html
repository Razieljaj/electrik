<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mission Volt</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" type="image/x-icon" href="../image/favicon.png">
</head>
<body>
    <h1>Calcul</h1>
    
    <!-- Instructions de calcul -->
    <div class="dialogue">
        <p class="dialogue_text">Regardez la formule dans la boîte et calculez l'intensité en fonction de la puissance et de la tension.</p>
        <img src="../image/eel/eel.png" class="eel-content" alt="Illustration de l'exercice">
    </div>

    <!-- Zone de réponse utilisateur -->
    <textarea id="userAnswer" placeholder="Entrez votre réponse ici"></textarea>
    <button onclick="checkAnswer()">Vérifier</button>

    <!-- Section de résultat : visible après réponse -->
    <div id="Bravo" class="dialogue" style="display: none; margin-top: 20px;">
        <div id="resultMessage" class="dialogue_text"></div> <!-- Message de résultat -->
        <button id="nextStepButton" style="display: none; margin-top: 10px;" onclick="window.location.href='../etape3/etape3.html'">Aller à l'étape suivante</button>
    </div>

    <script>
        function checkAnswer() {
            // Récupère la réponse utilisateur
            let userAnswer = parseFloat(document.getElementById('userAnswer').value.replace(',', '.'));
            let message = '';
            
            // Récupère les éléments HTML pour afficher le résultat et le bouton suivant
            const resultMessage = document.getElementById('resultMessage');
            const bravoDiv = document.getElementById('Bravo');
            const nextStepButton = document.getElementById('nextStepButton');

            // Affiche la section #Bravo après toute tentative de réponse
            bravoDiv.style.display = "block";

            // Vérifie si l'entrée est un nombre
            if (isNaN(userAnswer)) {
                message = 'Ooooh, c\'est un chiffre qu\'il nous faut !';
            } else if (userAnswer !== 6.5) {
                message = 'Non ce n\'est pas ça, réessaie encore.';
            } else {
                message = 'Félicitations, vous avez trouvé la bonne réponse !';
                nextStepButton.style.display = "inline-block"; // Affiche le bouton pour passer à l'étape suivante
            }

            // Affiche le message de résultat dans l'élément resultMessage
            resultMessage.textContent = message;
        }
    </script>
</body>
</html>
